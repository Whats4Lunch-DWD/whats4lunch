<div class="content">
    <div class="main-content container">
        <h2 class="title">Restaurants</h2>
        <check if="{{ @records }}">
            <true>
                <set ctr="{{ 0 }}" />
                <repeat group="{{ @records }}" value="{{ @record }}" counter="{{ @ctr }}">
                    {{ @ctr }}
                    <check if="{{ @ctr%3 }}">
                        <true>
                            <div class="columns">
                        </true>
                    </check>
                        <div class="column is-one-third">
                            <div class="card">
                                <div class="card-image">
                                <figure class="image is-4by3">
                                    <check if="{{ @record.image }}">
                                        <true>
                                            <img src="https://hazrulazhar.edinburgh.domains/whats4lunch/ui/images/restaurants/{{ trim(@record.image) }}" alt="{{ trim(@record.image) }} image">
                                        </true>
                                        <false>
                                            <img src="https://bulma.io/images/placeholders/1280x960.png" alt="{{ trim(@record.image) }} image">
                                        </false>
                                    </check>
                                </figure>
                                </div>
                                <div class="card-content">
                                    <p class="title is-4"><a href="https://hazrulazhar.edinburgh.domains/whats4lunch/restaurants/show/{{ trim(@record.id) }}">{{ trim(@record.restaurant_name) }}</a></p>
                                </div>
                            </div>
                        </div>
                        <check if="{{ @ctr%3 }}">
                            <true></div></true>
                        </check>
                </repeat>
            </true>
            <false>
                No restaurants are available.
            </false>
        </check>
    </div>
</div>
<section class="section myhero">
    <section class="hero">
        <div class="hero-body">
            <p class="title">Get your lunch according to your diet and allergies without having to think</p>
            <form id="formGetRestos" name="formGetRestos" method="post" action="{{ @BASE }}/">
            <p>
                <div class="columns field">
                    <div class="column control">
                        <input id="location" class="input" type="text" placeholder="Enter your Singapore address or postal code.">
                        <div class="dropdown-menu" id="location-menu"></div>
                    </div>
                    <div class="column control">
                        <input class="input" placeholder="Enter a dish you'd like." id="query" name="query" type="text" />
                    </div>
                </div>
                <div class="columns field">
                    <div class="column control">
                        <div class="select">
                            <select id="diet" name="diet" class="home-select">
                                <option>Select a diet restriction...</option>
                                <option>Halal</option>
                                <option>Keto</option>
                                <option>Kosher</option>
                                <option>No Beef</option>
                                <option>Vegan</option>
                                <option>Vegetarian</option>
                            </select>
                        </div>
                    </div>
                    <div class="column control">
                        <div class="select">
                            <select id="allergy" name="allergy" class="home-select">
                                <option>Select an allergen restriction...</option>
                                <option>Corn</option>
                                <option>Egg</option>
                                <option>Fish</option>
                                <option>Meat</option>
                                <option>Milk</option>
                                <option>Peanut</option>
                                <option>Shellfish</option>
                                <option>Soy</option>
                                <option>Tree Nut</option>
                                <option>Wheat</option>
                                <option>FPIES</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="field is-grouped">
                    <div class="control searchbtn">
                        <button class="button is-primary" name="choicestyle" value="3choices">Give me 3 choices</button>
                        <button class="button is-black" name="choicestyle" value="surprise">Surprise Me!</button>
                    </div>
                </div>
            </p>
            </form>
        </div>
    </section>
</section>
<section class="content">
    <div class="main-content container restaurants">
        <h2>Results for {{ @query.diet }} {{ @query.query }} that contains no {{ @query.allergy }} near {{ @query.location }}</h2>
        <check if="{{ @results }}">
            <true>
                <div class="columns">
                    <repeat group="{{ @results }}" value="{{ @record }}">
                        <div class="column is-one-third">
                            <div class="card">
                                <div class="card-image">
                                <figure class="image is-4by3">
                                    <check if="{{ @record.image }}">
                                        <true>
                                            <img src="https://hazrulazhar.edinburgh.domains/whats4lunch/ui/images/restaurants/{{ trim(@record.image) }}" alt="{{ trim(@record.image) }} image">
                                        </true>
                                        <false>
                                            <img src="https://bulma.io/images/placeholders/1280x960.png" alt="{{ trim(@record.image) }} image">
                                        </false>
                                    </check>
                                </figure>
                                </div>
                                <div class="card-content">
                                    <p class="title is-4">{{ trim(@record.restaurant_name) }}</p>
                                </div>
                            </div>
                        </div>
                    </repeat>
                </div>
            </true>
            <false>
                No restaurants are available.
            </false>
        </check>
    </div>
</section>